<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop - Ab-Snack</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- STYLE TIDAK DIUBAH SAMA SEKALI DARI SC ASLI --- */
        :root {
            --primary-black: #111111;
            --primary-gold: #F5A623;
            --bg-beige: #FFFBF5;
            --card-hover: #fcfcfc;
        }

        body {
            font-family: 'Poppins', sans-serif;
            color: #444;
            background-color: #FAFAFA;
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--primary-black);
            font-weight: 700;
        }

        .text-gold { color: var(--primary-gold); }
        .bg-black { background-color: var(--primary-black); }

        .navbar-brand { font-weight: 800; font-size: 1.5rem; letter-spacing: 1px; }
        .nav-link { font-weight: 500; color: #333 !important; margin: 0 10px; }

        .btn-gold-circle {
            background-color: var(--primary-gold);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            transition: 0.3s;
        }
        .btn-gold-circle:hover { background-color: var(--primary-black); }

        .shop-header {
            padding-top: 130px;
            padding-bottom: 50px;
            background-color: var(--bg-beige);
            text-align: center;
        }

        .category-btn {
            border: 2px solid #eee;
            background: white;
            color: #555;
            border-radius: 50px;
            padding: 8px 25px;
            margin: 0 5px 10px;
            font-weight: 500;
            transition: all 0.3s;
        }
        .category-btn:hover, .category-btn.active {
            background-color: var(--primary-black);
            color: white;
            border-color: var(--primary-black);
        }

        .shop-card {
            background: white;
            border: none;
            border-radius: 20px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            height: 100%;
            overflow: hidden;
        }
        
        .shop-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.05);
        }

        .shop-card-img-wrapper {
            background-color: #f8f9fa;
            border-radius: 15px;
            height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
        }

        .shop-card img {
            max-height: 180px;
            filter: drop-shadow(0 10px 10px rgba(0,0,0,0.1));
            transition: transform 0.3s;
        }

        .shop-card:hover img {
            transform: scale(1.05);
        }

        .badge-custom {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: var(--primary-gold);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .price-tag {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--primary-gold);
        }

        .btn-add-cart {
            width: 100%;
            background-color: var(--primary-black);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 10px;
            font-weight: 500;
            margin-top: 15px;
            transition: 0.3s;
        }
        .btn-add-cart:hover {
            background-color: var(--primary-gold);
        }
        
        .btn-add-cart:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .promo-banner {
            background: linear-gradient(45deg, #847f7f, #675a5a);
            border-radius: 20px;
            padding: 60px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        /* Utility untuk cursor pagination */
        .page-item { cursor: pointer; }
        /* --- CSS NAVBAR --- */
        :root {
            --primary-black: #111111;
            --primary-gold: #F5A623;
        }

        body {
            font-family: 'Poppins', sans-serif;
            padding-top: 80px; /* Jarak agar konten tidak tertutup navbar fixed */
        }

        .navbar {
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); /* Bayangan halus */
        }

        /* Logo */
        .navbar-brand {
            font-weight: 800;
            font-size: 1.5rem;
            letter-spacing: 1px;
            color: var(--primary-black) !important;
        }

        /* Link Menu */
        .nav-link {
            font-weight: 500;
            color: #444 !important;
            margin: 0 10px;
            transition: color 0.3s;
            position: relative;
        }

        /* Efek Hover & Active pada Menu */
        .nav-link:hover, 
        .nav-link.active {
            color: var(--primary-gold) !important;
        }

        /* Garis bawah animasi */
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background-color: var(--primary-gold);
            transition: all 0.3s;
            transform: translateX(-50%);
        }
        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        /* Tombol WhatsApp Custom */
        .btn-wa-navbar {
            background-color: var(--primary-black); /* Warna Hitam Elegan */
            color: white;
            border-radius: 50px; /* Bentuk Pill */
            padding: 10px 25px;
            font-weight: 600;
            font-size: 0.9rem;
            border: 2px solid var(--primary-black);
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px; /* Jarak ikon dan teks */
        }

        .btn-wa-navbar:hover {
            background-color: var(--primary-gold); /* Berubah Gold saat hover */
            border-color: var(--primary-gold);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 166, 35, 0.3);
        }

        /* Toggler Mobile */
        .navbar-toggler { border: none; }
        .navbar-toggler:focus { box-shadow: none; }
    </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top py-3">
        <div class="container">
            <a class="navbar-brand" href="index.html">AB-SNACK</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav text-center">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="product.html">Shop</a>
                    </li>
                      <li class="nav-item"><a class="nav-link " href="blog.html">Blog</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>
                
                <div class="d-lg-none mt-3 text-center">
                     <a href="https://wa.me/6281234567890?text=Halo%20Admin%20Ab-Snack,%20saya%20mau%20tanya%20produk" target="_blank" class="btn-wa-navbar w-100 justify-content-center">
                        <i class="fab fa-whatsapp fa-lg"></i> Chat Admin
                    </a>
                </div>
            </div>

            <div class="d-none d-lg-block">
                <a href="https://wa.me/6281234567890?text=Halo%20Admin%20Ab-Snack,%20saya%20mau%20tanya%20produk" target="_blank" class="btn-wa-navbar">
                    <i class="fab fa-whatsapp fa-lg"></i> Chat Admin
                </a>
            </div>
        </div>
    </nav>
    <section class="shop-header">
        <div class="container">
            <h1 class="display-5 mb-2">Shop Our <span class="text-gold">Collection</span></h1>
            <p class="text-muted">Temukan rasa favoritmu dan mulailah hidup sehat hari ini.</p>
        </div>
    </section>

    <section class="py-5">
        <div class="container">
            
            <div class="d-flex flex-wrap justify-content-between align-items-center mb-5">
                <div class="mb-3 mb-md-0" id="filter-container">
                    <button class="category-btn active" onclick="filterProducts('all', this)">All Products</button>
                    <button class="category-btn" onclick="filterProducts('keto', this)">Keto Bars</button>
                    <button class="category-btn" onclick="filterProducts('cookies', this)">Cookies</button>
                    <button class="category-btn" onclick="filterProducts('bundle', this)">Bundles</button>
                </div>
                <div>
                    <select id="sort-select" class="form-select border-0 shadow-sm bg-white rounded-pill px-4" style="cursor: pointer;" onchange="sortProducts(this.value)">
                        <option value="featured" selected>Sort by: Featured</option>
                        <option value="low-high">Price: Low to High</option>
                        <option value="high-low">Price: High to Low</option>
                        <option value="newest">Newest Arrivals</option>
                    </select>
                </div>
            </div>

            <div class="row g-4" id="product-list">
                </div>

            <div class="row mt-5">
                <div class="col-12 d-flex justify-content-center">
                    <nav aria-label="Page navigation">
                        <ul class="pagination" id="pagination-controls">
                            </ul>
                    </nav>
                </div>
            </div>

        </div>
    </section>

    <footer class="bg-white pt-5 pb-4 border-top">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h4 class="fw-bold mb-3">AB-SNACK</h4>
                    <p class="text-muted small w-75">Solusi ngemil sehat tanpa rasa bersalah. Dibuat dengan cinta dan bahan alami.</p>
                    <div class="mt-3">
                        <a href="#" class="text-dark me-3"><i class="fab fa-instagram fa-lg"></i></a>
                        <a href="#" class="text-dark me-3"><i class="fab fa-facebook fa-lg"></i></a>
                        <a href="#" class="text-dark me-3"><i class="fab fa-twitter fa-lg"></i></a>
                    </div>
                </div>
                <div class="col-6 col-lg-2 mb-4">
                    <h6 class="fw-bold mb-3">Product</h6>
                    <ul class="list-unstyled text-muted small">
                        <li class="mb-2"><a href="#" class="text-decoration-none text-muted">Choco Bar</a></li>
                        <li class="mb-2"><a href="#" class="text-decoration-none text-muted">Peanut Bar</a></li>
                        <li class="mb-2"><a href="#" class="text-decoration-none text-muted">Berry Mix</a></li>
                    </ul>
                </div>
                <div class="col-6 col-lg-2 mb-4">
                    <h6 class="fw-bold mb-3">Company</h6>
                    <ul class="list-unstyled text-muted small">
                        <li class="mb-2"><a href="about.html" class="text-decoration-none text-muted">About Us</a></li>
                        <li class="mb-2"><a href="#" class="text-decoration-none text-muted">Careers</a></li>
                        <li class="mb-2"><a href="#" class="text-decoration-none text-muted">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 text-end d-none d-lg-block">
                    <img src="https://placehold.co/200x150/f0f0f0/ccc?text=Snack+Pack" alt="Footer Deco">
                </div>
            </div>
            <div class="row mt-4 pt-3 border-top">
                <div class="col-12 text-center small text-muted">
                    &copy; 2024 Ab-Snack Design. All rights reserved.
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // --- 1. KONFIGURASI WHATSAPP ---
        const nomorWhatsApp = "6281234567890"; // Ganti dengan nomor WA Anda (Format: 628...)

        // --- 2. DATA PRODUK (Simulasi Database) ---
        const allProducts = [
            {
                id: 1,
                name: "Chocolate Sea Salt",
                price: 24.00,
                originalPrice: 28.00,
                category: "keto",
                image: "img/ketobar (4).webp",
                rating: 5,
                reviews: 120,
                badge: "Best Seller",
                badgeColor: "bg-gold",
                soldOut: false,
                date: "2023-01-01"
            },
            {
                id: 2,
                name: "Creamy Peanut Butter",
                price: 24.00,
                originalPrice: null,
                category: "keto",
                image: "img/ketobar (3).webp",
                rating: 4.5,
                reviews: 85,
                badge: null,
                soldOut: false,
                date: "2023-02-15"
            },
            {
                id: 3,
                name: "Strawberry Yogurt",
                price: 26.00,
                originalPrice: null,
                category: "cookies",
                image: "img/ketobar (2).webp",
                rating: 5,
                reviews: 40,
                badge: "New",
                badgeColor: "bg-danger",
                soldOut: false,
                date: "2023-10-01"
            },
            {
                id: 4,
                name: "Matcha Green Tea",
                price: 25.00,
                originalPrice: null,
                category: "keto",
                image: "img/ketobar (3).webp",
                rating: 4.5,
                reviews: 32,
                badge: null,
                soldOut: false,
                date: "2023-05-20"
            },
            {
                id: 5,
                name: "Coffee Almond",
                price: 24.00,
                originalPrice: null,
                category: "keto",
                image: "img/ketobar (2).webp",
                rating: 5,
                reviews: 90,
                badge: null,
                soldOut: false,
                date: "2023-03-10"
            },
            {
                id: 6,
                name: "Vanilla Berry Mix",
                price: 24.00,
                originalPrice: null,
                category: "cookies",
                image: "img/ketobar (5).webp",
                rating: 4.5,
                reviews: 25,
                badge: null,
                soldOut: false,
                date: "2023-06-01"
            },
            {
                id: 7,
                name: "Dark Chocolate 90%",
                price: 26.00,
                originalPrice: null,
                category: "keto",
                image: "img/ketobar (4).webp",
                rating: 5,
                reviews: 150,
                badge: null,
                soldOut: false,
                date: "2023-01-20"
            },
            {
                id: 8,
                name: "Banana Nut Muffin",
                price: 24.00,
                originalPrice: null,
                category: "cookies",
                image: "img/ketobar (3).webp",
                rating: 4.5,
                reviews: 210,
                badge: "Sold Out",
                badgeColor: "bg-secondary",
                soldOut: true,
                date: "2022-12-12"
            },
            {
                id: 9,
                name: "Ultimate Keto Bundle",
                price: 19.99,
                originalPrice: 25.00,
                category: "bundle",
                image: "img/ketobar (2).webp",
                rating: 5,
                reviews: 300,
                badge: "Promo",
                badgeColor: "bg-primary",
                soldOut: false,
                date: "2023-11-01"
            }
        ];

        // --- 3. STATE VARIABLES ---
        let currentProducts = [...allProducts]; // Copy data
        let currentPage = 1;
        let itemsPerPage = 4; // Menampilkan 4 produk per halaman
        let currentCategory = 'all';

        // --- 4. FUNGSI LOGIKA UTAMA ---

        // Fungsi Render Produk ke HTML
        function renderProducts() {
            const productContainer = document.getElementById('product-list');
            productContainer.innerHTML = '';

            // Hitung Pagination
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedItems = currentProducts.slice(startIndex, endIndex);

            if(paginatedItems.length === 0) {
                productContainer.innerHTML = '<div class="col-12 text-center py-5"><p class="text-muted">No products found.</p></div>';
                renderPagination(0);
                return;
            }

            // Loop item dan buat HTML
            paginatedItems.forEach(item => {
                // Generate Bintang
                let starsHtml = '';
                for(let i=0; i<5; i++) {
                    if(i < Math.floor(item.rating)) {
                        starsHtml += '<i class="fas fa-star"></i>';
                    } else if (i < item.rating) {
                        starsHtml += '<i class="fas fa-star-half-alt"></i>';
                    } else {
                        starsHtml += '<i class="far fa-star"></i>';
                    }
                }

                // Generate Badge
                let badgeHtml = item.badge 
                    ? `<span class="badge-custom ${item.badgeColor === 'bg-gold' ? '' : item.badgeColor}">${item.badge}</span>` 
                    : '';

                // Generate Price
                let priceHtml = item.originalPrice 
                    ? `<span class="text-muted text-decoration-line-through small me-2">$${item.originalPrice.toFixed(2)}</span>
                       <span class="price-tag">$${item.price.toFixed(2)}</span>`
                    : `<span class="price-tag">$${item.price.toFixed(2)}</span>`;

                // Generate Button (WA atau Sold Out)
                let buttonHtml = item.soldOut
                    ? `<button class="btn-add-cart bg-secondary" disabled>Notify Me</button>`
                    : `<button class="btn-add-cart" onclick="pesanWhatsApp('${item.name}', ${item.price})"><i class="fas fa-cart-plus me-2"></i> Order via WA</button>`;

                const productHtml = `
                    <div class="col-md-6 col-lg-3">
                        <div class="shop-card">
                            ${badgeHtml}
                            <div class="shop-card-img-wrapper ${item.soldOut ? 'opacity-50' : ''}">
                                <img src="${item.image}" alt="${item.name}">
                            </div>
                            <h6 class="mb-1">${item.name}</h6>
                            <div class="mb-2 text-gold small">
                                ${starsHtml}
                                <span class="text-muted ms-1">(${item.reviews})</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>${priceHtml}</div>
                            </div>
                            ${buttonHtml}
                        </div>
                    </div>
                `;
                productContainer.innerHTML += productHtml;
            });

            // Tambahkan Promo Banner secara manual jika berada di halaman 1 dan kategori 'all'
            if (currentPage === 1 && currentCategory === 'all') {
                const bannerHtml = `
                <div class="col-12 my-4">
                    <div class="promo-banner d-flex flex-column flex-md-row align-items-center justify-content-between">
                        <div class="mb-4 mb-md-0">
                            <h3 class="mb-2">Starter Bundle Pack</h3>
                            <p class="mb-0 text-white-50">Coba semua rasa (6 Bars) dan hemat 20%.</p>
                        </div>
                        <div class="text-center">
                            <h2 class="text-gold display-6 fw-bold mb-0">$19.99</h2>
                            <button class="btn btn-light rounded-pill px-4 mt-2 fw-bold" onclick="filterProducts('bundle', null)">Buy Bundle</button>
                        </div>
                    </div>
                </div>`;
                productContainer.insertAdjacentHTML('beforeend', bannerHtml);
            }

            renderPagination(Math.ceil(currentProducts.length / itemsPerPage));
        }

        // Fungsi Filter Kategori
        function filterProducts(category, btnElement) {
            currentCategory = category;
            currentPage = 1; // Reset ke halaman 1

            // Update tombol active
            if(btnElement) {
                document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
                btnElement.classList.add('active');
            }

            if (category === 'all') {
                currentProducts = [...allProducts];
            } else {
                currentProducts = allProducts.filter(p => p.category === category);
            }

            // Re-apply sorting jika ada
            const sortValue = document.getElementById('sort-select').value;
            sortProducts(sortValue, false); // false agar tidak render double
            
            renderProducts();
        }

        // Fungsi Sorting
        function sortProducts(sortType, shouldRender = true) {
            switch(sortType) {
                case 'low-high':
                    currentProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'high-low':
                    currentProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'newest':
                    currentProducts.sort((a, b) => new Date(b.date) - new Date(a.date));
                    break;
                case 'featured':
                default:
                    currentProducts.sort((a, b) => a.id - b.id); // Default by ID
                    break;
            }
            if(shouldRender) renderProducts();
        }

        // Fungsi Pagination
        function renderPagination(totalPages) {
            const paginationContainer = document.getElementById('pagination-controls');
            paginationContainer.innerHTML = '';

            if (totalPages <= 1) return;

            // Prev Button
            const prevDisabled = currentPage === 1 ? 'disabled' : '';
            paginationContainer.innerHTML += `
                <li class="page-item ${prevDisabled}" onclick="changePage(${currentPage - 1})">
                    <a class="page-link rounded-circle mx-1 border-0"><i class="fas fa-chevron-left"></i></a>
                </li>
            `;

            // Number Buttons
            for (let i = 1; i <= totalPages; i++) {
                const activeClass = i === currentPage ? 'bg-black text-white' : 'text-dark';
                paginationContainer.innerHTML += `
                    <li class="page-item" onclick="changePage(${i})">
                        <a class="page-link rounded-circle mx-1 border-0 ${activeClass}">${i}</a>
                    </li>
                `;
            }

            // Next Button
            const nextDisabled = currentPage === totalPages ? 'disabled' : '';
            paginationContainer.innerHTML += `
                <li class="page-item ${nextDisabled}" onclick="changePage(${currentPage + 1})">
                    <a class="page-link rounded-circle mx-1 border-0"><i class="fas fa-chevron-right"></i></a>
                </li>
            `;
        }

        function changePage(newPage) {
            const totalPages = Math.ceil(currentProducts.length / itemsPerPage);
            if (newPage < 1 || newPage > totalPages) return;
            
            currentPage = newPage;
            // Scroll ke atas grid produk agar user nyaman
            document.querySelector('.shop-header').scrollIntoView({ behavior: 'smooth' });
            renderProducts();
        }

        // Fungsi Pesan ke WhatsApp
        function pesanWhatsApp(productName, price) {
            const text = `Halo Admin Ab-Snack, saya ingin memesan produk: *${productName}* seharga $${price.toFixed(2)}. Mohon infonya.`;
            const encodedText = encodeURIComponent(text);
            const url = `https://wa.me/${nomorWhatsApp}?text=${encodedText}`;
            window.open(url, '_blank');
        }

        // --- INIT FIRST LOAD ---
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
        });

    </script>
</body>
</html>